<?php/** * @brief EXECUTA STORED PROCEDURE E RETORNA O RESULTADO * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param $strSql * @return $rstRetorno * @version 1.0 */function executeStoredProcedure($strSql) {	global $conConexao;	$rstExe = mysqli_query($conConexao, $strSql);	//forma incorreta de efetuar verificação de erro do mysql	/*if (mysqli_error($rstExe) != "") {	echo (mysqli_error($rstExe) . "<br />");	exit;	}	*/	if (mysqli_error($conConexao) != "") {		echo (mysqli_error($conConexao) . "<br />");		exit;	}	mysqli_next_result($conConexao);	mysqli_store_result($conConexao);	return $rstExe;}/** * @brief EXECUTA STORED PROCEDURE * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param $strSql * @return $rstRetorno * @version 1.0 */function executeStoredProcedureDelete($strSql){	global $conBd;	$rstRetorno = mysqli_query($conBd, $strSql);	if(mysqli_error($conBd) != ""){		echo (mysqli_error($conBd) . " <br />");		exit;	}	return $rstRetorno;}/** * @brief EXIBE O MES ATUAL POR EXTENSO * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return $strMes * @version 1.0 */function exibeMes(){	switch(date("m")){		case "01":    $strMes = "janeiro";     break;		case "02":    $strMes = "fevereiro";   break;		case "03":    $strMes = "março";       break;		case "04":    $strMes = "abril";       break;		case "05":    $strMes = "maio";        break;		case "06":    $strMes = "junho";       break;		case "07":    $strMes = "julho";       break;		case "08":    $strMes = "agosto";      break;		case "09":    $strMes = "setembro";    break;		case "10":    $strMes = "outubro";     break;		case "11":    $strMes = "novembro";    break;		case "12":    $strMes = "dezembro";    break;	}	return $strMes;}/** * @brief EXIBE O DIA DA SEMANA ATUAL POR EXTENSO * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return $strDiaSemana * @version 1.0 */function exibeDiaSemana(){	switch(date("w")){		case "0":    $strDiaSemana = "Domingo";       break;		case "1":    $strDiaSemana = "Segunda-feira"; break;		case "2":    $strDiaSemana = "Terça-feira";   break;		case "3":    $strDiaSemana = "Quarta-feira";  break;		case "4":    $strDiaSemana = "Quinta-feira";  break;		case "5":    $strDiaSemana = "Sexta-feira";   break;		case "6":    $strDiaSemana = "Sábado";        break;	}	return $strDiaSemana;}/** * @brief EXIBE SAUDACAO DE ACORDO COM O HORARIO ATUAL * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return $strSaudacao * @version 1.0 */function exibeSaudacao(){	if(date("H") > 00 && date("H") < 12){		$strSaudacao = "Bom dia";	} elseif(date("H") >= 12 && date("H") < 18){		$strSaudacao = "Boa tarde";	} else {		$strSaudacao = "Boa noite";	}	return $strSaudacao;}/** * @brief RECEBE DATA NO FORMATO AMERICANO E RETORNA NO FORMATO BRASILEIRO * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return $datData * @version 1.0 */function formataDataBr($datData){	$datData = date("d/m/Y", strtotime($datData));	return $datData;}/** * @brief RECEBE DATA E HORA NO FORMATO AMERICANO E RETORNA NO FORMATO BRASILEIRO * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return $datDataHora * @version 1.0 */function formataDataHoraBr($datDataHora){	$datData = date("d/m/Y", strtotime($datDataHora));	$strHora = date("H:i", strtotime($datDataHora));	return "$datData às $strHora";}/** * @brief FORMATA PARAMETRO E ESCAPA * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return $varParametro * @version 1.0 */function formataParametro($strTipo, $varParametro, $conBd){	if(!empty($conBd)){		$varParametro = mysqli_real_escape_string($conBd, $varParametro);	}	$varParametro = addslashes($varParametro);	$varParametro = stripslashes($varParametro);	$varParametro = strip_tags($varParametro);	//TIPO INT	if($strTipo == "int"){		$varParametro = intval($varParametro);	}	//TIPO FLOAT	if($strTipo == "float"){		$varParametro = floatval($varParametro);	}	return $varParametro;}/** * @brief EXIBE MENSAGEM DE SUCESSO * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return * @version 1.0 */function exibeMsgSucesso($intMsg){	if($intMsg == 1){		$strMsg = "<div class=\"msgOk\"><p>Dados cadastrados com sucesso!</p></div>";	}	if($intMsg == 2){		$strMsg = "<div class=\"msgOk\"><p>Dados atualizados com sucesso!</p></div>";	}	if($intMsg == 3){		$strMsg = "<div class=\"msgOk\"><p>Dados excluídos com sucesso!</p></div>";	}	echo $strMsg;}/** * @brief EXIBE MENSAGEM DE ERRO * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return * @version 1.0 */function exibeMsgErro($intMsg){	if($intMsg == 1){		$strMsg = "<div class=\"msgErro\"><p>Erro ao cadastrar. Tente novamente!</p></div>";	}	if($intMsg == 2){		$strMsg = "<div class=\"msgErro\"><p>Erro ao atualizar. Tente novamente!</p></div>";	}	if($intMsg == 3){		$strMsg = "<div class=\"msgErro\"><p>Erro ao excluir. Tente novamente!</p></div>";	}	if($intMsg == 4){		$strMsg = "<div class=\"msgErro\"><p>Erro ao visualizar. Tente novamente!</p></div>";	}	if($intMsg == 5){		$strMsg = "<div class=\"msgErro\"><p>Por favor, verifique seu usuário e senha.</p></div>";	}	if($intMsg == 6){		$strMsg = "<div class=\"msgErro\"><p>Digite corretamente o código de verificação.</p></div>";	}	echo $strMsg;}/** * @brief EXIBE MENSAGEM DE ALERTA * @author GUSTAVO TOMANINI * @date 17/07/2014 * @param * @return * @version 1.0 */function exibeMsgAlerta($intMsg){	if($intMsg == 1){		$strMsg = "<div class=\"msgAlerta\"><p>Nenhum registro foi encontrado!</p></div>";    }        echo $strMsg;  }?>